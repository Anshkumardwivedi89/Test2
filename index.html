<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Rain Love Movie ‚Äì Complete Sequence</title>
<style>
body {
    margin:0;
    overflow:hidden;
    background:black;
    font-family: Arial;
}

canvas { display:block; }

#dialogue {
    position:absolute;
    bottom:100px;
    width:100%;
    text-align:center;
    font-size:44px;
    font-weight:bold;
    color:white;
    text-shadow: 0 0 25px rgba(255,255,255,0.8);
    opacity:0;
    transition: opacity 3s ease;
}

/* Touch Me Text */
#touchMe {
  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:32px;
  font-weight:bold;
  color:white;
  text-shadow: 0 0 20px rgba(255,255,255,0.8);
  opacity:0;
  display:none;
  z-index:100;
  animation:pulse 1.5s infinite;
  cursor: pointer;
  pointer-events: auto;
}

@keyframes pulse {
  0%{opacity:0.5;transform:translate(-50%,-50%) scale(1);}
  50%{opacity:1;transform:translate(-50%,-50%) scale(1.1);}
  100%{opacity:0.5;transform:translate(-50%,-50%) scale(1);}
}

/* Proposal card */
#card {
  position:fixed;
  inset:0;
  background:linear-gradient(135deg,#ff758c,#ff7eb3);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  opacity:0;
  pointer-events:none;
  transition:1.5s;
}

#card.show { opacity:1; pointer-events:auto; }

h1 {
  color:white;
  font-size:60px;
  margin-bottom:20px;
  animation:pop 1.5s;
}

@keyframes pop {
  0%{transform:scale(0);}
  100%{transform:scale(1);}
}

/* Fujifilm style frames */
.gallery {
  display:flex;
  gap:30px;
  margin-bottom:20px;
}

.photo {
  width:160px;
  background:white;
  padding:10px;
  border-radius:8px;
  box-shadow:0 15px 30px rgba(0,0,0,0.4);
  transform:rotate(-10deg) scale(0);
  animation:fly 1s forwards;
  position:relative;
  cursor:pointer;
  transition:transform 0.3s ease;
}

.photo:hover {
  transform:rotate(-10deg) scale(1.05);
}

.photo-overlay {
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.8);
  border-radius:5px;
  display:flex;
  align-items:center;
  justify-content:center;
  opacity:0;
  transition:opacity 0.5s ease;
  text-align:center;
  padding:10px;
}

.photo:hover .photo-overlay {
  opacity:1;
}

.photo-overlay p {
  color:white;
  font-size:16px;
  font-family:cursive;
  margin:0;
  line-height:1.6;
  font-weight:bold;
  text-shadow: 0 0 10px rgba(255,255,255,0.5);
}

.photo:nth-child(2){animation-delay:0.3s;}
.photo:nth-child(3){animation-delay:0.6s;}
.photo:nth-child(4){animation-delay:0.9s;}
.photo:nth-child(5){animation-delay:1.2s;}

.photo img {
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:5px;
}

.caption {
  text-align:center;
  font-size:14px;
  margin-top:6px;
  font-family:cursive;
}

/* scribble */
.photo:after {
  content:"";
  position:absolute;
  inset:-10px;
  border:2px dashed rgba(255,0,0,0.4);
  border-radius:12px;
  animation:draw 2s linear;
}

@keyframes draw {
  from{clip-path:inset(0 100% 0 0);}
  to{clip-path:inset(0 0 0 0);}
}

@keyframes fly {
  to { transform:rotate(0deg) scale(1); }
}

/* Floating hearts */
.heart-float {
  position:absolute;
  color:white;
  font-size:24px;
  animation:float 6s infinite;
}

@keyframes float {
  0%{transform:translateY(0);opacity:1;}
  100%{transform:translateY(-600px);opacity:0;}
}

.infinity {
  font-size:80px;
  color:white;
  margin-top:20px;
}

/* Mobile Responsive */
@media (max-width: 768px) {
  #dialogue {
    font-size:28px;
    bottom:80px;
  }

  #touchMe {
    font-size:24px;
  }

  h1 {
    font-size:40px;
  }

  .gallery {
    flex-wrap:wrap;
    justify-content:center;
  }

  .photo {
    width:120px;
  }

  .photo img {
    height:140px;
  }

  .infinity {
    font-size:60px;
  }
}

@media (max-width: 480px) {
  #dialogue {
    font-size:20px;
    bottom:60px;
  }

  #touchMe {
    font-size:18px;
  }

  h1 {
    font-size:32px;
    margin-bottom:15px;
  }

  .gallery {
    gap:15px;
  }

  .photo {
    width:100px;
    padding:8px;
  }

  .photo img {
    height:120px;
  }

  .caption {
    font-size:12px;
  }

  .infinity {
    font-size:50px;
  }
}
</style>
</head>

<body>

<canvas id="c"></canvas>
<div id="dialogue">NO MATTER WHAT I WILL ALWAYS LOVE YOU RAKSHA ‚ù§Ô∏è</div>
<div id="touchMe" onclick="showCard()">TOUCH ME ‚ù§Ô∏è</div>

<!-- Background Music -->
<audio id="bgMusic" loop volume="0.5">
  <source src="hey-ya-i-see-you-walking-karthik-calling-karthik-128-kbps_RyZG5oXA.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<!-- Music Control Button -->
<button id="musicToggle" style="position:fixed; bottom:20px; right:20px; z-index:50; padding:10px 15px; background:rgba(255,255,255,0.9); border:none; border-radius:50%; width:50px; height:50px; cursor:pointer; font-size:20px; display:flex; align-items:center; justify-content:center;" onclick="toggleMusic()">üîä</button>

<div id="card">
  <h1>Love You ‚ù§Ô∏è</h1>

  <div class="gallery">
    <div class="photo"><img src="photo1.jpg.jpeg"><div class="caption">Us ‚ù§Ô∏è</div><div class="photo-overlay"><p>Your smile lights up my world.</p></div></div>
    <div class="photo"><img src="photo2.jpg.jpeg"><div class="caption">My World</div><div class="photo-overlay"><p>You are my sunshine on a rainy day.</p></div></div>
    <div class="photo"><img src="photo3.jpg.jpeg"><div class="caption">Forever</div><div class="photo-overlay"><p>Your kindness is a gift to everyone you meet.</p></div></div>
    <div class="photo"><img src="photo4.jpg.jpeg"><div class="caption">Together</div><div class="photo-overlay"><p>Your laughter is my favorite sound.</p></div></div>
    <div class="photo"><img src="photo5.jpg.jpeg"><div class="caption">Always</div><div class="photo-overlay"><p>You make every moment special.</p></div></div>
  </div>

    <div class="infinity">‚ôæ</div>
  </div>
</div>

<script>
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

canvas.width = innerWidth;
canvas.height = innerHeight;

let rain=[];
let wind=6;
let lightning=0;
let sequencePhase = 0; // 0: umbrella scene, 1: proposal scene

for(let i=0;i<800;i++){
  rain.push({
    x:Math.random()*canvas.width,
    y:Math.random()*canvas.height,
    l:15+Math.random()*25,
    s:8+Math.random()*6
  });
}

// =======================
// SCENE ELEMENTS
// =======================

function drawSky(){
  let g=ctx.createLinearGradient(0,0,0,canvas.height);
  g.addColorStop(0,"#0b1433");
  g.addColorStop(1,"#02040f");
  ctx.fillStyle=g;
  ctx.fillRect(0,0,canvas.width,canvas.height);
}

function drawTrees(){
  for(let i=0;i<6;i++){
    let base=i*300+120;
    let sway=Math.sin(Date.now()*0.002+i)*35;

    ctx.fillStyle="#3b1e10";
    ctx.fillRect(base+sway,canvas.height-260,35,260);

    ctx.beginPath();
    ctx.arc(base+sway+18,canvas.height-280,100,0,Math.PI*2);
    ctx.fillStyle="#124d26";
    ctx.fill();
  }
}

// =======================
// PIXAR STYLE BOY
// =======================

function drawBoy(){
  let x=canvas.width/2;
  let y=canvas.height-260;

  ctx.fillStyle="#2f6cff";
  ctx.fillRect(x-32,y+80,64,120);

  ctx.beginPath();
  ctx.arc(x,y,52,0,Math.PI*2);
  ctx.fillStyle="#ffcfaa";
  ctx.fill();

  ctx.fillStyle="#1b120a";
  ctx.beginPath();
  ctx.arc(x,y-25,60,Math.PI,Math.PI*2);
  ctx.fill();

  ctx.fillStyle="#000";
  ctx.beginPath();
  ctx.arc(x-18,y-10,7,0,Math.PI*2);
  ctx.arc(x+18,y-10,7,0,Math.PI*2);
  ctx.fill();

  ctx.strokeStyle="#222";
  ctx.lineWidth=3;
  ctx.beginPath();
  ctx.arc(x,y+12,24,0,Math.PI);
  ctx.stroke();
}

// =======================
// REALISTIC UMBRELLA
// =======================

function drawUmbrella(){
  let x = canvas.width/2;
  let y = canvas.height-310;

  let wobble = Math.sin(Date.now()*0.004)*6;

  // Canopy gradient
  let grad = ctx.createRadialGradient(x, y-20, 20, x, y, 170);
  grad.addColorStop(0,"#ff5a5a");
  grad.addColorStop(1,"#8b0000");

  // Canopy
  ctx.beginPath();
  ctx.moveTo(x-160, y);
  ctx.quadraticCurveTo(x, y-140-wobble, x+160, y);
  ctx.closePath();
  ctx.fillStyle = grad;
  ctx.fill();

  // Fabric ribs
  ctx.strokeStyle="rgba(255,255,255,0.2)";
  ctx.lineWidth=2;
  for(let i=-4;i<=4;i++){
    ctx.beginPath();
    ctx.moveTo(x, y-20);
    ctx.lineTo(x+i*40, y);
    ctx.stroke();
  }

  // Edge trim
  ctx.strokeStyle="#330000";
  ctx.lineWidth=4;
  ctx.beginPath();
  ctx.moveTo(x-160,y);
  ctx.quadraticCurveTo(x,y-140-wobble,x+160,y);
  ctx.stroke();

  // Handle
  ctx.strokeStyle="#222";
  ctx.lineWidth=6;
  ctx.beginPath();
  ctx.moveTo(x,y);
  ctx.lineTo(x,y+190);
  ctx.arc(x-15,y+190,20,0,Math.PI);
  ctx.stroke();

  // Shaft highlight
  ctx.strokeStyle="rgba(255,255,255,0.3)";
  ctx.lineWidth=2;
  ctx.beginPath();
  ctx.moveTo(x+2,y);
  ctx.lineTo(x+2,y+180);
  ctx.stroke();
}

// =======================
// RAIN PHYSICS
// =======================

function drawRain(){
  ctx.strokeStyle="rgba(190,210,255,0.95)";
  ctx.lineWidth=1.3;

  rain.forEach(r=>{
    ctx.beginPath();
    ctx.moveTo(r.x,r.y);
    ctx.lineTo(r.x+wind,r.y+r.l);
    ctx.stroke();

    r.y+=r.s;
    r.x+=wind;

    let ux=canvas.width/2;
    let uy=canvas.height-310;

    // Umbrella curve collision
    let dx = r.x - ux;
    let dy = r.y - uy;
    let dist = Math.sqrt(dx*dx + dy*dy);

    if(dist < 160 && r.y > uy-120){
      r.y -= 90;
      r.x += 90;
    }

    if(r.y>canvas.height){
      r.y=-40;
      r.x=Math.random()*canvas.width;
    }
  });
}

// =======================
// LIGHTNING
// =======================

function drawLightning(){
  if(Math.random()<0.004) lightning=6;
  if(lightning>0){
    ctx.fillStyle="rgba(255,255,255,0.25)";
    ctx.fillRect(0,0,canvas.width,canvas.height);
    lightning--;
  }
}

// =======================
// PROPOSAL SCENE RAIN
// =======================

function drawProposalRain(){
  ctx.fillStyle="#02040f";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.strokeStyle="rgba(200,220,255,0.8)";
  rain.forEach(r=>{
    ctx.beginPath();
    ctx.moveTo(r.x,r.y);
    ctx.lineTo(r.x+5,r.y+r.l);
    ctx.stroke();

    r.y+=r.s; r.x+=5;
    if(r.y>canvas.height){r.y=-20;r.x=Math.random()*canvas.width;}
  });
}

// =======================
// MAIN LOOP
// =======================

function animate(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if(sequencePhase === 0){
    drawSky();
    drawTrees();
    drawUmbrella();
    drawBoy();
    drawRain();
    drawLightning();
  } else {
    drawProposalRain();
  }

  requestAnimationFrame(animate);
}

animate();

// Dialogue and transition
setTimeout(()=>{
  document.getElementById("dialogue").style.opacity=1;
},2000);

setTimeout(()=>{
  sequencePhase = 1;
  document.getElementById("touchMe").style.display="block";
  document.getElementById("touchMe").style.opacity=1;
},5000);

function showCard(){
  document.getElementById("card").classList.add("show");
  document.getElementById("touchMe").style.display="none";
  spawnHearts();
  document.getElementById("bgMusic").play();
}

function spawnHearts(){
  for(let i=0;i<20;i++){
    let h=document.createElement("div");
    h.className="heart-float";
    h.innerHTML="‚ù§Ô∏è";
    h.style.left=Math.random()*innerWidth+"px";
    h.style.top=innerHeight+"px";
    h.style.animationDelay=Math.random()*3+"s";
    document.body.appendChild(h);
  }
}

function toggleMusic() {
  const bgMusic = document.getElementById("bgMusic");
  const musicToggle = document.getElementById("musicToggle");
  if (bgMusic.paused) {
    bgMusic.play();
    musicToggle.innerHTML = "üîä";
  } else {
    bgMusic.pause();
    musicToggle.innerHTML = "üîá";
  }
}

window.onresize=()=>{
  canvas.width=innerWidth;
  canvas.height=innerHeight;
};
</script>

</body>
</html>
